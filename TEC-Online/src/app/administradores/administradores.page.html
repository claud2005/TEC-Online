<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title class="ion-text-center">Administração</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Botões superiores -->
  <div class="top-buttons">
    <ion-button (click)="criarUtilizador()" color="success">
      <ion-icon slot="start" name="person-add-outline"></ion-icon>
      Criar Utilizador
    </ion-button>
    <ion-button color="medium" (click)="sair()">
      <ion-icon slot="start" name="log-out-outline"></ion-icon>
      Sair
    </ion-button>
  </div>

  <!-- Tabela de utilizadores -->
  <div class="table-container">
    <ion-grid class="user-table">
      <ion-row class="table-header">
        <ion-col>Nome</ion-col>
        <ion-col>Email</ion-col>
        <ion-col>Telefone</ion-col>
        <ion-col>Admin</ion-col>
        <ion-col class="update-col">Atualizado</ion-col>
        <ion-col>Ações</ion-col>
      </ion-row>
   <ion-row *ngFor="let user of utilizadores" class="user-row" (click)="editarUtilizador(user.id)"></ion-row>
      <ion-row *ngFor="let user of utilizadores" class="user-row">
        <ion-col data-label="Nome">{{ user.fullName }}</ion-col>
        <ion-col data-label="Email">{{ user.email }}</ion-col>
        <ion-col data-label="Telefone">{{ user.telefone }}</ion-col>
        <ion-col data-label="Admin">{{ user.isAdmin ? 'Sim' : 'Não' }}</ion-col>
        <ion-col class="update-col" data-label="Atualizado">
          {{ user.dataAtualizacao | date:'dd/MM/yy' }} às {{ user.horaAtualizacao | date:'HH:mm' }}
        </ion-col>
        <ion-col class="actions" data-label="Ações">
          <ion-button size="small" color="warning" (click)="alterarSenha(user); $event.stopPropagation()">
            <ion-icon slot="icon-only" name="key-outline"></ion-icon>
          </ion-button>
          <ion-button size="small" color="danger" (click)="eliminarUtilizador(user.id); $event.stopPropagation()">
            <ion-icon slot="icon-only" name="trash-outline"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>

      <ion-row *ngIf="utilizadores.length === 0" class="no-users">
        <ion-col colspan="6">Nenhum utilizador registrado.</ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>