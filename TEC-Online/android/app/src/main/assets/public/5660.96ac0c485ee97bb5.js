"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5660],{5660:(S,g,l)=>{l.r(g),l.d(g,{CriarServicosPageModule:()=>b});var u=l(177),s=l(4341),a=l(4742),p=l(6960),h=l(1626),v=l(7669),o=l(4438),f=l(3656);let m=(()=>{var i;class c{constructor(t,n,r){this.http=t,this.navController=n,this.router=r,this.dataServico="",this.horaServico="",this.status="aberto",this.autorServico="",this.nomeCliente="",this.telefoneContato="",this.marcaAparelho="",this.modeloAparelho="",this.problemaCliente="",this.solucaoInicial="",this.valorTotal=null,this.observacoes=""}ngOnInit(){this.dataServico=(new Date).toISOString().split("T")[0];const n=localStorage.getItem("username");this.autorServico=n||""}salvarServico(){var t,n;if(!this.isFormValid())return void alert("Preencha todos os campos obrigat\xf3rios.");const r={dataServico:this.dataServico.trim(),horaServico:this.horaServico.trim(),status:this.status,autorServico:this.autorServico.trim(),nomeCliente:this.nomeCliente.trim(),telefoneContato:this.telefoneContato.trim(),marcaAparelho:this.marcaAparelho.trim(),modeloAparelho:this.modeloAparelho.trim(),problemaCliente:this.problemaCliente.trim(),solucaoInicial:(null===(t=this.solucaoInicial)||void 0===t?void 0:t.trim())||"",valorTotal:null!==(n=this.valorTotal)&&void 0!==n?n:null,observacoes:this.observacoes.trim()||"Sem observa\xe7\xf5es"},e=localStorage.getItem("token"),_=(new h.Lr).set("Authorization",`Bearer ${e}`);this.http.post(`${v.c.api_url}/api/servicos/`,r,{headers:_}).subscribe(C=>{alert("Servi\xe7o criado com sucesso!"),this.router.navigate(["/plano-semanal"])},C=>{console.error("Erro ao criar servi\xe7o:",C),alert("Erro ao criar servi\xe7o.")})}isFormValid(){return[this.dataServico,this.horaServico,this.status,this.autorServico,this.nomeCliente,this.telefoneContato,this.marcaAparelho,this.modeloAparelho,this.problemaCliente].every(t=>void 0!==t&&""!==t.trim())&&(null===this.valorTotal||this.valorTotal>=0)}goBack(){this.navController.back()}}return(i=c).\u0275fac=function(t){return new(t||i)(o.rXU(h.Qq),o.rXU(f.q9),o.rXU(p.Ix))},i.\u0275cmp=o.VBU({type:i,selectors:[["app-criar-servicos"]],decls:66,vars:15,consts:[[1,"modern-background",3,"fullscreen"],["slot","start"],[1,"back-button",3,"click"],["slot","icon-only","name","arrow-back",1,"back-icon"],[1,"form-container"],[1,"grid-container"],[1,"form-group"],["position","floating"],["name","dataServico","type","date","required","",3,"ngModelChange","ngModel","value"],["name","horaServico","type","text","placeholder","HH:MM","required","",3,"ngModelChange","ngModel"],["name","status","required","",3,"ngModelChange","ngModel"],["value","aberto"],["value","fechado"],["name","autorServico","type","text","required","",3,"ngModelChange","ngModel","value"],["name","nomeCliente","type","text","placeholder","Ex: Jo\xe3o Silva","required","",3,"ngModelChange","ngModel"],["name","telefoneContato","type","tel","placeholder","(351) 999999999","required","",3,"ngModelChange","ngModel"],["name","marcaAparelho","type","text","placeholder","Samsung","required","",3,"ngModelChange","ngModel"],["name","modeloAparelho","type","text","placeholder","Galaxy S21","required","",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["name","problemaCliente","placeholder","Descreva o problema...","required","",3,"ngModelChange","ngModel"],["name","solucaoInicial","placeholder","Descreva a solu\xe7\xe3o inicial...",3,"ngModelChange","ngModel"],["name","valorTotal","type","number","placeholder","\u20ac 0,00","min","0",3,"ngModelChange","ngModel"],["name","observacoes","placeholder","Coment\xe1rios adicionais...",3,"ngModelChange","ngModel"],[1,"button-container"],["expand","block",1,"save-button",3,"click"]],template:function(t,n){1&t&&(o.j41(0,"ion-content",0)(1,"ion-header")(2,"ion-buttons",1)(3,"ion-button",2),o.bIt("click",function(){return n.goBack()}),o.nrm(4,"ion-icon",3),o.k0s()()(),o.j41(5,"div",4)(6,"h1"),o.EFF(7,"Criar Servi\xe7o"),o.k0s(),o.j41(8,"p"),o.EFF(9,"Preencha os campos abaixo para criar um novo servi\xe7o."),o.k0s(),o.j41(10,"form",5)(11,"div",6)(12,"ion-label",7),o.EFF(13,"Data do Servi\xe7o *"),o.k0s(),o.j41(14,"ion-input",8),o.mxI("ngModelChange",function(e){return o.DH7(n.dataServico,e)||(n.dataServico=e),e}),o.k0s()(),o.j41(15,"div",6)(16,"ion-label",7),o.EFF(17,"Hora do Servi\xe7o *"),o.k0s(),o.j41(18,"ion-input",9),o.mxI("ngModelChange",function(e){return o.DH7(n.horaServico,e)||(n.horaServico=e),e}),o.k0s()(),o.j41(19,"div",6)(20,"ion-label",7),o.EFF(21,"Status do Servi\xe7o *"),o.k0s(),o.j41(22,"ion-select",10),o.mxI("ngModelChange",function(e){return o.DH7(n.status,e)||(n.status=e),e}),o.j41(23,"ion-select-option",11),o.EFF(24,"Aberto"),o.k0s(),o.j41(25,"ion-select-option",12),o.EFF(26,"Fechado"),o.k0s()()(),o.j41(27,"div",6)(28,"ion-label",7),o.EFF(29,"Autor do Servi\xe7o *"),o.k0s(),o.j41(30,"ion-input",13),o.mxI("ngModelChange",function(e){return o.DH7(n.autorServico,e)||(n.autorServico=e),e}),o.k0s()(),o.j41(31,"div",6)(32,"ion-label",7),o.EFF(33,"Nome Completo do Cliente *"),o.k0s(),o.j41(34,"ion-input",14),o.mxI("ngModelChange",function(e){return o.DH7(n.nomeCliente,e)||(n.nomeCliente=e),e}),o.k0s()(),o.j41(35,"div",6)(36,"ion-label",7),o.EFF(37,"Contato *"),o.k0s(),o.j41(38,"ion-input",15),o.mxI("ngModelChange",function(e){return o.DH7(n.telefoneContato,e)||(n.telefoneContato=e),e}),o.k0s()(),o.j41(39,"div",6)(40,"ion-label",7),o.EFF(41,"Marca do Aparelho *"),o.k0s(),o.j41(42,"ion-input",16),o.mxI("ngModelChange",function(e){return o.DH7(n.marcaAparelho,e)||(n.marcaAparelho=e),e}),o.k0s()(),o.j41(43,"div",6)(44,"ion-label",7),o.EFF(45,"Modelo do Aparelho *"),o.k0s(),o.j41(46,"ion-input",17),o.mxI("ngModelChange",function(e){return o.DH7(n.modeloAparelho,e)||(n.modeloAparelho=e),e}),o.k0s()(),o.j41(47,"div",18)(48,"ion-label",7),o.EFF(49,"Problema Relatado pelo Cliente *"),o.k0s(),o.j41(50,"ion-textarea",19),o.mxI("ngModelChange",function(e){return o.DH7(n.problemaCliente,e)||(n.problemaCliente=e),e}),o.k0s()(),o.j41(51,"div",18)(52,"ion-label",7),o.EFF(53,"Solu\xe7\xe3o"),o.k0s(),o.j41(54,"ion-textarea",20),o.mxI("ngModelChange",function(e){return o.DH7(n.solucaoInicial,e)||(n.solucaoInicial=e),e}),o.k0s()(),o.j41(55,"div",6)(56,"ion-label",7),o.EFF(57,"Valor Total"),o.k0s(),o.j41(58,"ion-input",21),o.mxI("ngModelChange",function(e){return o.DH7(n.valorTotal,e)||(n.valorTotal=e),e}),o.k0s()(),o.j41(59,"div",18)(60,"ion-label",7),o.EFF(61,"Observa\xe7\xf5es"),o.k0s(),o.j41(62,"ion-textarea",22),o.mxI("ngModelChange",function(e){return o.DH7(n.observacoes,e)||(n.observacoes=e),e}),o.k0s()()(),o.j41(63,"div",23)(64,"ion-button",24),o.bIt("click",function(){return n.salvarServico()}),o.EFF(65," Salvar Ordem de Servi\xe7o "),o.k0s()()()()),2&t&&(o.Y8G("fullscreen",!0),o.R7$(14),o.R50("ngModel",n.dataServico),o.Y8G("value",n.dataServico),o.R7$(4),o.R50("ngModel",n.horaServico),o.R7$(4),o.R50("ngModel",n.status),o.R7$(8),o.R50("ngModel",n.autorServico),o.Y8G("value",n.autorServico),o.R7$(4),o.R50("ngModel",n.nomeCliente),o.R7$(4),o.R50("ngModel",n.telefoneContato),o.R7$(4),o.R50("ngModel",n.marcaAparelho),o.R7$(4),o.R50("ngModel",n.modeloAparelho),o.R7$(4),o.R50("ngModel",n.problemaCliente),o.R7$(4),o.R50("ngModel",n.solucaoInicial),o.R7$(4),o.R50("ngModel",n.valorTotal),o.R7$(4),o.R50("ngModel",n.observacoes))},dependencies:[u.MD,s.YN,s.qT,s.BC,s.cb,s.YS,s.vS,s.cV,a.bv,a.Jm,a.QW,a.W9,a.eU,a.iq,a.$w,a.he,a.Nm,a.Ip,a.nc,a.su,a.Je,a.Gw,a.T6],styles:['@charset "UTF-8";ion-content.modern-background[_ngcontent-%COMP%]{--background: #f5f7fa;display:flex;justify-content:center;align-items:center;height:100vh}.form-container[_ngcontent-%COMP%]{width:90%;max-width:800px;padding:20px;margin:auto}h1[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#2575fc;text-align:center;margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:20px;color:#666;text-align:center;margin-bottom:30px}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;width:100%}@media (max-width: 768px){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{margin-bottom:25px}ion-label[_ngcontent-%COMP%]{font-weight:600;font-size:18px;color:#2575fc;margin-bottom:8px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:16px;font-size:18px;color:#333;width:100%;transition:all .3s ease}ion-input[_ngcontent-%COMP%]::placeholder, ion-textarea[_ngcontent-%COMP%]::placeholder{color:#aaa}ion-input[_ngcontent-%COMP%]:focus, ion-textarea[_ngcontent-%COMP%]:focus, ion-select[_ngcontent-%COMP%]:focus{border-color:#2575fc;box-shadow:0 0 8px #2575fc33}.full-width[_ngcontent-%COMP%]{grid-column:span 2}@media (max-width: 768px){.full-width[_ngcontent-%COMP%]{grid-column:span 1}}.back-button[_ngcontent-%COMP%]{--background: transparent;--color: #2575fc;--padding-start: 0;--padding-end: 0}.back-icon[_ngcontent-%COMP%]{font-size:32px;color:#2575fc;transition:transform .3s ease}.back-button[_ngcontent-%COMP%]:hover   .back-icon[_ngcontent-%COMP%]{transform:translate(-5px)}.save-button[_ngcontent-%COMP%]{--background: #2575fc;--border-radius: 12px;font-size:20px;font-weight:600;color:#fff;padding:18px;width:100%;transition:background-color .3s ease}.save-button[_ngcontent-%COMP%]:hover{--background: #1a5bbf}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:30px;width:100%}.fotos-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;justify-content:flex-start;align-items:center;margin-bottom:10px;max-width:100%;margin-top:20px}.foto-item[_ngcontent-%COMP%]{position:relative;width:90px;height:90px;border-radius:10px;overflow:hidden;cursor:pointer;transition:transform .3s ease}.foto-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.foto-item[_ngcontent-%COMP%]   .foto-preview[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.foto-item[_ngcontent-%COMP%]   .remove-icon[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:#f00c;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;cursor:pointer}.adicionar-foto-btn[_ngcontent-%COMP%]{width:100%;height:50px;display:flex;align-items:center;justify-content:center;border:none;border-radius:30px;background-color:#2575fc;color:#fff;font-size:22px;font-weight:500;cursor:pointer;transition:background-color .3s ease;text-transform:uppercase;margin-top:20px}.adicionar-foto-btn[_ngcontent-%COMP%]:hover{background-color:#1a5bbf}.adicionar-foto-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:26px}']}),c})();const M=[{path:"",component:m}];let b=(()=>{var i;class c{}return(i=c).\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.$C({type:i}),i.\u0275inj=o.G2t({imports:[u.MD,s.YN,a.bv,p.iI.forChild(M),m]}),c})()}}]);